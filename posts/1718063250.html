<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Nginx部署前端项目+ 域名配置 | 赵逸尘个人博客</title><meta name="keywords" content="网页,JavaScript,VUE,Nginx"><meta name="author" content="ZhaoYichen"><meta name="copyright" content="ZhaoYichen"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="VUE部署到linux下的Nginx，实现远程代理访问">
<meta property="og:type" content="article">
<meta property="og:title" content="Nginx部署前端项目+ 域名配置">
<meta property="og:url" content="https://zml3589110.github.io/posts/1718063250.html">
<meta property="og:site_name" content="赵逸尘个人博客">
<meta property="og:description" content="VUE部署到linux下的Nginx，实现远程代理访问">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg">
<meta property="article:published_time" content="2023-12-02T06:04:20.000Z">
<meta property="article:modified_time" content="2023-12-04T01:18:07.586Z">
<meta property="article:author" content="ZhaoYichen">
<meta property="article:tag" content="网页">
<meta property="article:tag" content="JavaScript">
<meta property="article:tag" content="VUE">
<meta property="article:tag" content="Nginx">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><link rel="shortcut icon" href="/img/favicon_1.png"><link rel="canonical" href="https://zml3589110.github.io/posts/1718063250"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: ZhaoYichen","link":"链接: ","source":"来源: 赵逸尘个人博客","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Nginx部署前端项目+ 域名配置',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-12-04 09:18:07'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.1.1"><link rel="alternate" href="/atom.xml" title="赵逸尘个人博客" type="application/atom+xml">
</head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">242</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">410</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">158</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/random.html"><i class="fa-fw fas fa-random"></i><span> Random | 随机文章</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">赵逸尘个人博客</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/random.html"><i class="fa-fw fas fa-random"></i><span> Random | 随机文章</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Nginx部署前端项目+ 域名配置</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-12-02T06:04:20.000Z" title="发表于 2023-12-02 14:04:20">2023-12-02</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-12-04T01:18:07.586Z" title="更新于 2023-12-04 09:18:07">2023-12-04</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/">编程类</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/VUE/">VUE</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Nginx/">Nginx</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">3.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>12分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Nginx部署前端项目+ 域名配置"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Step1：服务器上安装-Nginx"><a href="#Step1：服务器上安装-Nginx" class="headerlink" title="Step1：服务器上安装 Nginx"></a>Step1：服务器上安装 Nginx</h1><h2 id="1、安装nginx"><a href="#1、安装nginx" class="headerlink" title="1、安装nginx"></a>1、安装nginx</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Ubuntu</span></span><br><span class="line">apt-get install nginx</span><br><span class="line"><span class="meta">#</span><span class="bash"> centOS</span></span><br><span class="line">yum install nginx</span><br></pre></td></tr></table></figure>

<h2 id="2、检查nginx是否安装，输入如下命令后若出现版本号则安装成功"><a href="#2、检查nginx是否安装，输入如下命令后若出现版本号则安装成功" class="headerlink" title="2、检查nginx是否安装，输入如下命令后若出现版本号则安装成功"></a>2、检查nginx是否安装，输入如下命令后若出现版本号则安装成功</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -v</span><br></pre></td></tr></table></figure>

<h2 id="3、启动nginx"><a href="#3、启动nginx" class="headerlink" title="3、启动nginx"></a>3、启动nginx</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">systemctl start nginx</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 设置nginx在系统启动时自动启动</span></span><br><span class="line">systemctl enable nginx</span><br></pre></td></tr></table></figure>

<ul>
<li>注：这里如果出现报错，说明缺少nginx启动相关的依赖，根据报错提示，复制报错提示解决方案的命令，安装相关依赖重新执行上述启动命令即可！</li>
</ul>
<h2 id="4、在浏览器输入ip地址，若出现如下页面则启动成功"><a href="#4、在浏览器输入ip地址，若出现如下页面则启动成功" class="headerlink" title="4、在浏览器输入ip地址，若出现如下页面则启动成功"></a>4、在浏览器输入ip地址，若出现如下页面则启动成功</h2><img src="/posts/1718063250/b2b5aa905fc240738bb1429d076504d1.png" class="" title="img">

<h1 id="Step2：打包上传Vue项目到服务器"><a href="#Step2：打包上传Vue项目到服务器" class="headerlink" title="Step2：打包上传Vue项目到服务器"></a>Step2：打包上传Vue项目到服务器</h1><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><h3 id="1-1、Vue2项目配置跨域"><a href="#1-1、Vue2项目配置跨域" class="headerlink" title="1-1、Vue2项目配置跨域"></a>1-1、Vue2项目配置跨域</h3><p>在 vue.config.js 中进行如下配置：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  publicPath: &#x27;/&#x27;,</span><br><span class="line">  outputDir: &#x27;dist&#x27;,</span><br><span class="line">  assetsDir: &#x27;static&#x27;,</span><br><span class="line">  lintOnSave: false,</span><br><span class="line">  productionSourceMap: false,</span><br><span class="line">  devServer: &#123;</span><br><span class="line">    port: port,</span><br><span class="line">    open: true,</span><br><span class="line">    overlay: &#123;</span><br><span class="line">      warnings: false,</span><br><span class="line">      errors: true</span><br><span class="line">    &#125;,</span><br><span class="line">    /* 上线用（配置跨域） */</span><br><span class="line">    proxy: &#123;</span><br><span class="line">      &#x27;/api&#x27;: &#123;</span><br><span class="line">        target: &#x27;接口地址url&#x27;,</span><br><span class="line">        // 允许跨域</span><br><span class="line">        changeOrigin: true,</span><br><span class="line">        ws: true,</span><br><span class="line">        pathRewrite: &#123;</span><br><span class="line">          &#x27;^/api&#x27;: &#x27;&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-2-Vue3-Vite项目配置跨域"><a href="#1-2-Vue3-Vite项目配置跨域" class="headerlink" title="1-2 Vue3+Vite项目配置跨域"></a>1-2 Vue3+Vite项目配置跨域</h3><p>在 vite.config.js 中进行如下配置：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">server: &#123;</span><br><span class="line">            port: 3005, // 项目端口</span><br><span class="line">            host: &quot;localhost&quot;,</span><br><span class="line">            proxy: &#123;</span><br><span class="line">                &quot;/smartReport&quot;: &#123; // 接口前缀</span><br><span class="line">                    target: &quot;接口服务器地址：ip+端口&quot;,</span><br><span class="line">                    // 允许跨域</span><br><span class="line">                    changeOrigin: true</span><br><span class="line">                    // 路径重写：在发出请求后将 接口前缀 替换为&#x27;&#x27;空值，这样不影响接口请求</span><br><span class="line">                    // pathRewrite: &#123; </span><br><span class="line">                    //   &#x27;^/smartReport&#x27;: &#x27;&#x27;</span><br><span class="line">                    // &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>


<h2 id="2、Vue项目打包："><a href="#2、Vue项目打包：" class="headerlink" title="2、Vue项目打包："></a>2、Vue项目打包：</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run build</span><br></pre></td></tr></table></figure>
<p><strong>打包完成后，会在项目根目录下自动生成一个默认dist文件夹</strong></p>
<h2 id="3、上传至服务器指定文件夹下"><a href="#3、上传至服务器指定文件夹下" class="headerlink" title="3、上传至服务器指定文件夹下"></a>3、上传至服务器指定文件夹下</h2><p>这里我放在服务器的 &#x2F;root&#x2F;front_end 文件夹下<br>上传命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp -r [dist文件夹所在的绝对路径] [服务器用户名]@[服务器IP地址]:[目标服务器文件夹绝对路径]</span><br></pre></td></tr></table></figure>

<p><strong>以我的举例：</strong></p>
<img src="/posts/1718063250/4cbbf91d37bd4d6e8f402db4f015a488.png" class="" title="img">

<p><strong>也可以使用 Xftp 向服务器传输文件，Mac用户推荐Termius</strong></p>
<h1 id="Step3：配置-Nginx"><a href="#Step3：配置-Nginx" class="headerlink" title="Step3：配置 Nginx"></a>Step3：配置 Nginx</h1><ol>
<li><p>在服务器上找到Nginx安装位置<br>默认在&#x2F;etc&#x2F;nginx</p>
</li>
<li><p>打开 &#x2F;etc&#x2F;nginx</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/nginx</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改nginx.conf</p>
</li>
</ol>
<p>我使用的Vs Code进行文件创建并写入</p>
<p><strong>方法：在Vs Code中安装以下插件，连接至服务器后，打开&#x2F;etc&#x2F;nginx</strong></p>
<img src="/posts/1718063250/f643cb89d48246338b911371727dca1b.png" class="" title="img">

<p><strong>在 nginx.conf 中添加server，内容如下：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">        listen       3000;#自己设置端口号</span><br><span class="line">        server_name  njupt_patent  ;#自己设置项目名称</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">            root   /root/front_end/dist;#这里写vue项目的所在地址</span><br><span class="line">            index  index.html;#这里是vue项目的首页，需要保证dist中有index.html文件</span><br><span class="line">        &#125;</span><br><span class="line">        location /api/ &#123;    # 会将接口地址/api开头的全部替换文下边配置的地址</span><br><span class="line">            proxy_pass http://[服务器ip地址]:[端口号];            #接口服务地址</span><br><span class="line">        &#125;</span><br><span class="line">        error_page   500 502 503 504  /50x.html;#错误页面</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<p>配置完 nginx.conf 后保存，执行</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 测试 Nginx 配置以确保没有语法错误</span></span><br><span class="line">nginx -t</span><br></pre></td></tr></table></figure>

<p>如果没有错误，重新加载Nginx以使更改生效</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl reload nginx</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>也可以直接重启nginx<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart nginx</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="Step4：授权访问服务器中的文件夹"><a href="#Step4：授权访问服务器中的文件夹" class="headerlink" title="Step4：授权访问服务器中的文件夹"></a>Step4：授权访问服务器中的文件夹</h1><p>在服务器中打开 dist 所在的文件夹的最上级文件夹（一般是根目录），如：我的 dist 文件夹的绝对路径为 &#x2F;root&#x2F;front_end&#x2F;dist ，那么就打开：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /</span><br></pre></td></tr></table></figure>
<p><strong>输入如下命令授权访问 dist 文件夹：</strong></p>
<img src="/posts/1718063250/1da84f125a63437081e772b72a830d04.png" class="" title="img">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod -R 777 /root/</span><br></pre></td></tr></table></figure>

<h1 id="Step5：访问已经部署好的Vue项目"><a href="#Step5：访问已经部署好的Vue项目" class="headerlink" title="Step5：访问已经部署好的Vue项目"></a>Step5：访问已经部署好的Vue项目</h1><p><strong>在浏览器输入：</strong><br>服务器IP地址:自己设置端口号&#x2F;index.html<br><strong>即可进行访问</strong></p>
<h1 id="Step6：域名配置"><a href="#Step6：域名配置" class="headerlink" title="Step6：域名配置"></a>Step6：域名配置</h1><p>在上述 nginx.conf 中添加如下配置：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">server&#123;</span><br><span class="line">		listen 80; #监听端口，http服务默认监听80端口</span><br><span class="line">		server_name example.com; #域名，最好需要注册的域名，而且还要解析域名</span><br><span class="line">		location / &#123;</span><br><span class="line">			proxy_pass http://example.com:[端口号];#代理转发地址</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; </span><br></pre></td></tr></table></figure>



<h1 id="配置本地地址映射域名以及域名转发指定ip"><a href="#配置本地地址映射域名以及域名转发指定ip" class="headerlink" title="配置本地地址映射域名以及域名转发指定ip"></a>配置本地地址映射域名以及域名转发指定ip</h1><p>首先安装nginx,参加博客：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/qfb620/p/5508468.html">https://www.cnblogs.com/qfb620/p/5508468.html</a></p>
<p>按照博客写的访问127.0.0.1查看是否访问成功，成功即安装成功。</p>
<p>下一步就是配置127.0.0.1与域名scc.company.com的映射（也就是访问scc.company.com可以请求到本地指定端口的地址。我的项目在本地的8083端口，配置正确，就能访问到我的项目）</p>
<p>首先,通过switch hosts来添加本地对应域名的映射 127.0.0.1 sct.company.com</p>
<p>下一步，打开nginx.conf</p>
<p>找到server,配置如下</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">      listen       80;</span><br><span class="line">      server_name  sct.company.com;</span><br><span class="line"> </span><br><span class="line">      #charset koi8-r;</span><br><span class="line"> </span><br><span class="line">      #access_log  logs/host.access.log  main;</span><br><span class="line"> </span><br><span class="line">      location / &#123;</span><br><span class="line">          root   html;</span><br><span class="line">         index  index.html index.htm;</span><br><span class="line">      &#125;</span><br><span class="line">  </span><br><span class="line">      location /custom-web/ &#123;</span><br><span class="line">      proxy_pass   http://127.0.0.1:8083;</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>

<p>主要改了下面两个地方</p>
<pre><code>   server_name  sct.company.com;
    location /custom-web/ &#123;
    proxy_pass   http://127.0.0.1:8083;
    &#125;
</code></pre>
<p>好了，127.0.0.1对应域名sct.company.com配好了</p>
<p>记得重启nginx,进入到nginx的目录，</p>
<p>输入</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -s reload</span><br></pre></td></tr></table></figure>
<p>进行重启。</p>
<img src="/posts/1718063250/20190617175148422.png" class="" title="img">

<p>没有报错就是重启成功</p>
<p>然后清空浏览器缓存，我是清空了好几次，</p>
<p>又ping了一下sct.company.com，看请求的是不是本地，</p>
<img src="/posts/1718063250/20190617175330584.png" class="" title="img">


<p>可以看到请求的是本地</p>
<p>这个时候，浏览器输入sct.company.com&#x2F;custom-web&#x2F;…访问一下项目地址 ,可以看到可以请求到tomcat上面的项目了</p>
<p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;分割线&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<br>下面看下重定向，配置如下</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">      listen       80;</span><br><span class="line">      server_name  sct.lvmama.com;</span><br><span class="line"> </span><br><span class="line">      #charset koi8-r;</span><br><span class="line"> </span><br><span class="line">      #access_log  logs/host.access.log  main;</span><br><span class="line"> </span><br><span class="line">      #location / &#123;</span><br><span class="line">         # root   html;</span><br><span class="line">         # index  index.html index.htm;</span><br><span class="line">     # &#125;</span><br><span class="line">  </span><br><span class="line">  location / &#123;</span><br><span class="line">   rewrite ^/(.*)$ http://www.baidu.com/; </span><br><span class="line">   proxy_pass   http://10.200.4.120:80;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">      location /customization-back-web/ &#123;</span><br><span class="line">      proxy_pass   http://127.0.0.1:8083;</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>

<p>主要是这个代码：</p>
<p>  location &#x2F; {<br>        rewrite ^&#x2F;(.*)$ <a target="_blank" rel="noopener" href="http://www.baidu.com/">http://www.baidu.com/</a>;<br>        proxy_pass   <a target="_blank" rel="noopener" href="http://10.200.4.120/">http://10.200.4.120:80</a>;<br>       }</p>
<p>nginx -s reload重启nginx </p>
<p>你输入sct.company.com就会跳转到百度</p>
<h1 id="nginx配置文件-通过域名访问"><a href="#nginx配置文件-通过域名访问" class="headerlink" title="nginx配置文件 通过域名访问"></a>nginx配置文件 通过域名访问</h1><p>解读Nginx配置文件，通过域名访问tomcat<br>第一次在linux 服务器上使用nginx 并指向tomcat 目录 通过域名 访问项目。遇到了很多坑，为了让自己更好的学习并吸收知识，特意总结了一下这次的经验。<br>首先我们需要了解一下nginx的组成部分，想必大家都是对他有所了解。<br>文件所在的路径是 &#x2F;usr&#x2F;local&#x2F;nginx&#x2F;conf 文件夹下的nginx.conf。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">第一个原本的配置文件上是注释的，这里指的是nginx的用户权限，</span><br><span class="line">user nobody;</span><br><span class="line"></span><br><span class="line">设置最大的工作衍生进程数 这里默认是1</span><br><span class="line">worker_processes 1</span><br><span class="line"></span><br><span class="line">最大的连接数 设置最大的连接数默认为1024个连接数 </span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections  1024;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Http 的主要设置，这里可以添加多个server</span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">每一个Server都是一个服务</span><br><span class="line">server&#123;</span><br><span class="line"><span class="meta">	#</span><span class="bash">这里是过滤请求，/是所有请求都可以</span></span><br><span class="line">	location /&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>下面部署nginx 并使其转发到tomcat下的重点在于server这个块。</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">      listen       80; #首先是nginx的监听端口默认为80</span><br><span class="line">      server_name  www.xxxx.com; #这里是你需要访问的域名地址</span><br><span class="line"><span class="meta">#</span><span class="bash">add_header <span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span> <span class="string">&#x27;*&#x27;</span>;<span class="comment">#这里是http 域名跨域，报错时候添加的请求头，这样写所有请求都会进来，会很不安全。</span></span></span><br><span class="line">      #charset koi8-r;</span><br><span class="line">      #access_log  logs/host.access.log  main;#这里是 日志文件的生成路径</span><br><span class="line">      </span><br><span class="line"><span class="meta">#</span><span class="bash">详细介绍location</span></span><br><span class="line">      location / &#123;</span><br><span class="line">      	#是监听的端口默认访问的地址，这里如果没有做tomcat的转发则会进入nginx的html目录下的index.html</span><br><span class="line">          root   html;</span><br><span class="line">          </span><br><span class="line">          #这里是编写监听到的请求所转发的端口号，即tomcat端口</span><br><span class="line">	proxy_pass http://localhost:8081;</span><br><span class="line">          #Proxy Settings;</span><br><span class="line">          #proxy_redirect off;</span><br><span class="line">          #proxy_set_header Host $host;</span><br><span class="line">          #proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">          #proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">	</span><br><span class="line"><span class="meta">	#</span><span class="bash">设置nginx 的默认显示页</span></span><br><span class="line">          index  index.html index.htm;</span><br><span class="line"></span><br><span class="line"><span class="meta">	#</span><span class="bash">设置http请求的请求头，使其在跨域访问上不会被浏览器阻止。ps:这里设置我发现没有用，后来还是在ajax过滤器中添加的 请求头，如果大家有知道这里怎么修改的，请留言大家一起学习。</span></span><br><span class="line">	add_header &#x27;Access-Control-Allow-Origin&#x27; &#x27;*&#x27;;</span><br><span class="line">	add_header &#x27;Access-Control-Allow-Methods&#x27; &#x27;GET, POST, OPTIONS&#x27;;</span><br><span class="line">	add_header &#x27;Access-Control-Allow-Headers&#x27; &#x27;DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type&#x27;;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      #error_page  404              /404.html;</span><br><span class="line"></span><br><span class="line">      # redirect server error pages to the static page /50x.html</span><br><span class="line">      #</span><br><span class="line">      error_page   500 502 503 504  /50x.html;</span><br><span class="line">      location = /50x.html &#123;</span><br><span class="line">          root   html;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p><strong>下面是location的设置</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">	设置服务器缓存</span><br><span class="line">1.	添加一个location  ~.*\.(意思是所有.jpg后缀的文件)</span><br><span class="line">location  ~.*\.(jpg|png|gif)$&#123;</span><br><span class="line"></span><br><span class="line">2.设置该文件类型文件缓存的清除周期为30天</span><br><span class="line">	expires  30d;</span><br><span class="line">&#125;</span><br><span class="line">location  ~.*\.(css|js)?$&#123;</span><br><span class="line"></span><br><span class="line">3.设置该文件类型文件缓存的清除周期为1小说</span><br><span class="line">	expires  1h;</span><br><span class="line">&#125;</span><br><span class="line">这里注意 全部请求是/  而过滤的请求是\ </span><br></pre></td></tr></table></figure>

<p><strong>顺带提一下负载均衡</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Nginx 均衡负载的实现 简单提一下 均衡策略</span><br><span class="line">在http 里添加一个upstream 在这个里面依次填写 不同的ip以及端口 nginx </span><br><span class="line">upstream name&#123;</span><br><span class="line">	server ip:端口号;</span><br><span class="line">	server ip:端口号;</span><br><span class="line">	server ip:端口号;</span><br><span class="line">	server ip:端口号;</span><br><span class="line">&#125;</span><br><span class="line">nginx 的默认均衡策略是加权轮询 </span><br><span class="line">1.加权轮询策略</span><br><span class="line">nginx计算每个后端服务器的权重，然后自动分配权重最高的后端服务器来处理请求。</span><br><span class="line">加权轮询策略 使用 weight=1来给地址添加权重，权重越高，nginx会优先分配</span><br><span class="line"></span><br><span class="line">2.ip_hash策略</span><br><span class="line">nginx会记录这个访问的ip地址并且在一段时间中 分配给这个ip一个server。</span><br><span class="line">ip_hash 在upstream 的结尾加上  ip_hash; nginx 自动使用ip_hash</span><br><span class="line"></span><br><span class="line">3.url_hash 等.. 插件形式的均衡策略这里就不提了</span><br></pre></td></tr></table></figure>


<p><strong>设置完配置文件下面就是运行测试了。</strong></p>
<ol>
<li>进入nginx 启动文件的目录 &#x2F;usr&#x2F;local&#x2F;nginx&#x2F;sbin</li>
<li>启动服务 .&#x2F;nginx （这是在第一次启动时使用，或者进程被杀死时启动。）</li>
<li>重启服务 .&#x2F;nginx -s reload (这是在修改了配置文件的情况下，不需要杀死进程)</li>
<li>如果在使用 .&#x2F;nginx 命令时 linux 报错nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use)证明这个80端口被nginx占用了，这个时候需要杀死进程 使用killall -9 nginx 或者使用 netstat -apn | grep 80 查询当前80端口 tcp 0 0 0.0.0.0:80 0.0.0.0:* LISTEN 13741&#x2F;nginx: master 然后使用kill -9 13741命令杀死进程.</li>
<li>启动nginx服务器就不会报错，如果配置文件出现错误，下面会显示错误的行号</li>
</ol>
<p>在浏览器上输入域名，nginx自动在nginx.conf中查找 server_name 对应的域名 的server 下的location跳转到proxy_pass 这里指的的 IP和端口。我这里设置的是8081端口。</p>
<img src="/posts/1718063250/20181024161732244" class="" title="img">


<p>注意如果proxy_pass 配置的IP地址和域名解析的IP地址不同会出现</p>
<img src="/posts/1718063250/20181024162037108" class="" title="img">

<p>这个问题我是在java代码中使用ajax拦截请求后加入到请求头中解决的。</p>
<p>在nginx上添加下面这几段并没有实际效果。<br>add_header ‘Access-Control-Allow-Origin’ ‘*’;<br>add_header ‘Access-Control-Allow-Methods’ ‘GET, POST, OPTIONS’;<br>add_header ‘Access-Control-Allow-Headers’ ‘DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type’;</p>
<h1 id="LINUX安装nginx并绑定域名详细教程"><a href="#LINUX安装nginx并绑定域名详细教程" class="headerlink" title="LINUX安装nginx并绑定域名详细教程"></a>LINUX安装nginx并绑定域名详细教程</h1><ol>
<li><p>安装依赖包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//一键安装上面四个依赖</span><br><span class="line">yum -y install gcc zlib zlib-devel pcre-devel openssl openssl-devel</span><br></pre></td></tr></table></figure>
</li>
<li><p>下载并解压安装包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//创建一个文件夹</span><br><span class="line">cd /usr/local</span><br><span class="line">mkdir nginx</span><br><span class="line">cd nginx</span><br><span class="line">//下载tar包</span><br><span class="line">wget http://nginx.org/download/nginx-1.13.7.tar.gz</span><br><span class="line">tar -xvf nginx-1.13.7.tar.gz</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装nginx</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//进入nginx目录</span><br><span class="line">cd /usr/local/nginx</span><br><span class="line">//进入目录</span><br><span class="line">cd nginx-1.13.7</span><br><span class="line">//执行命令</span><br><span class="line">./configure</span><br><span class="line">//执行make命令</span><br><span class="line">make</span><br><span class="line">//执行make install命令</span><br><span class="line">make install</span><br></pre></td></tr></table></figure></li>
<li><p>配置nginx.conf</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">打开配置文件</span><br><span class="line">vi /usr/local/nginx/conf/nginx.conf</span><br></pre></td></tr></table></figure>
<p>将端口号改成没有被占用的端口（我这里用的是8066），因为可能apeache占用80端口，apeache端口尽量不要修改，我们选择修改nginx端口。</p>
</li>
</ol>
<p>localhost修改为你服务器ip地址。</p>
<img src="/posts/1718063250/20200512213707731.png" class="" title="img">

<ol start="5">
<li><p>启动nginx</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/nginx/sbin/nginx -s reload</span><br><span class="line">//如果出现报错：nginx: [error] open() ＂/usr/local/nginx/logs/nginx.pid＂ failed</span><br><span class="line"></span><br><span class="line">则运行： /usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf</span><br></pre></td></tr></table></figure>
<p>再次启动即可！<br><strong>查看nginx进程是否启动：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -ef | grep nginx</span><br></pre></td></tr></table></figure>
</li>
<li><p>若想使用外部主机连接上虚拟机访问端口(你的服务器ip地址)，需要关闭虚拟机的防火墙：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">centOS6及以前版本使用命令： systemctl stop iptables.service</span><br><span class="line"></span><br><span class="line">centOS7关闭防火墙命令： systemctl stop firewalld.service</span><br></pre></td></tr></table></figure></li>
</ol>
<p><strong>随后访问该ip即可看到nginx界面。</strong></p>
<img src="/posts/1718063250/20200512214119545.png" class="" title="img">

<ol start="7">
<li>nginx安装完成后，我们来绑定域名<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">打开配置文件</span><br><span class="line">vi /usr/local/nginx/conf/nginx.conf</span><br></pre></td></tr></table></figure></li>
</ol>
<p>修改监听端口listen为: 80;<br>修改server_name为 <a target="_blank" rel="noopener" href="http://www.xxxx.com(这里是你的域名)/">www.xxxx.com（这里是你的域名）</a>;<br>在下面server标签里添加</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">location / &#123;</span><br><span class="line">           #转发地址</span><br><span class="line">           proxy_pass http://localhost:8066;</span><br><span class="line">           root   html;</span><br><span class="line">           index  index.html index.htm;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<img src="/posts/1718063250/20200512214633218.png" class="" title="img">

<ol start="8">
<li>然后保存文件，重启nginx，重新访问服务器IP地址，你会发现，你的域名也可以直接跳到你项目的页面</li>
</ol>
<img src="/posts/1718063250/20200512215045638.png" class="" title="img">


<hr>
<h1 id="相关链接"><a href="#相关链接" class="headerlink" title="相关链接"></a>相关链接</h1><ol>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/NJR10byh/article/details/123267776">Linux服务器使用Nginx部署前端项目+ 域名配置</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/luo_yu_1106/article/details/92662138">nginx配置本地地址映射域名以及域名转发指定ip</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_15724141/article/details/83346093">nginx配置文件 通过域名访问</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_38159467/article/details/106085525">LINUX安装nginx并绑定域名详细教程</a></li>
</ol>
<hr>
<center><font color=red>=================我是分割线=================</font></center>


<p><strong>欢迎到公众号来唠嗑:</strong></p>
<img src="https://pic4.zhimg.com/80/v2-eedc5dc7d30beedf4c2f1812df8e61a7_720w.jpg">

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://zml3589110.github.io">ZhaoYichen</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://zml3589110.github.io/posts/1718063250.html">https://zml3589110.github.io/posts/1718063250.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://zml3589110.github.io" target="_blank">赵逸尘个人博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E7%BD%91%E9%A1%B5/">网页</a><a class="post-meta__tags" href="/tags/JavaScript/">JavaScript</a><a class="post-meta__tags" href="/tags/VUE/">VUE</a><a class="post-meta__tags" href="/tags/Nginx/">Nginx</a></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/gh/overtrue/share.js@master/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="/img/wechat.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/alipay.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/588013124.html"><img class="prev-cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Nginx安装并部署VUE</div></div></a></div><div class="next-post pull-right"><a href="/posts/2373589197.html"><img class="next-cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Nginx开机自启动设置方法</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/2373589197.html" title="Nginx开机自启动设置方法"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-12-02</div><div class="title">Nginx开机自启动设置方法</div></div></a></div><div><a href="/posts/975746674.html" title="4Nginx安装并部署vue（Debain系统）"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-05-30</div><div class="title">4Nginx安装并部署vue（Debain系统）</div></div></a></div><div><a href="/posts/588013124.html" title="Nginx安装并部署VUE"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-12-01</div><div class="title">Nginx安装并部署VUE</div></div></a></div><div><a href="/posts/4001256595.html" title="VUE常用基础收集"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-05-17</div><div class="title">VUE常用基础收集</div></div></a></div><div><a href="/posts/30846541.html" title="VUE获取JSON数据键名"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-05-18</div><div class="title">VUE获取JSON数据键名</div></div></a></div><div><a href="/posts/289735847.html" title="VUE常用命令(一)之v-if"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-05-18</div><div class="title">VUE常用命令(一)之v-if</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">ZhaoYichen</div><div class="author-info__description">直到这一刻微笑着说话为止，我至少留下了一公升眼泪</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">242</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">410</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">158</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/zml3589110"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/zml3589110" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:zhaominglong_life@outlook.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Step1%EF%BC%9A%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E5%AE%89%E8%A3%85-Nginx"><span class="toc-number">1.</span> <span class="toc-text">Step1：服务器上安装 Nginx</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E5%AE%89%E8%A3%85nginx"><span class="toc-number">1.1.</span> <span class="toc-text">1、安装nginx</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E6%A3%80%E6%9F%A5nginx%E6%98%AF%E5%90%A6%E5%AE%89%E8%A3%85%EF%BC%8C%E8%BE%93%E5%85%A5%E5%A6%82%E4%B8%8B%E5%91%BD%E4%BB%A4%E5%90%8E%E8%8B%A5%E5%87%BA%E7%8E%B0%E7%89%88%E6%9C%AC%E5%8F%B7%E5%88%99%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F"><span class="toc-number">1.2.</span> <span class="toc-text">2、检查nginx是否安装，输入如下命令后若出现版本号则安装成功</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81%E5%90%AF%E5%8A%A8nginx"><span class="toc-number">1.3.</span> <span class="toc-text">3、启动nginx</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81%E5%9C%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E8%BE%93%E5%85%A5ip%E5%9C%B0%E5%9D%80%EF%BC%8C%E8%8B%A5%E5%87%BA%E7%8E%B0%E5%A6%82%E4%B8%8B%E9%A1%B5%E9%9D%A2%E5%88%99%E5%90%AF%E5%8A%A8%E6%88%90%E5%8A%9F"><span class="toc-number">1.4.</span> <span class="toc-text">4、在浏览器输入ip地址，若出现如下页面则启动成功</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Step2%EF%BC%9A%E6%89%93%E5%8C%85%E4%B8%8A%E4%BC%A0Vue%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">2.</span> <span class="toc-text">Step2：打包上传Vue项目到服务器</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE"><span class="toc-number">2.1.</span> <span class="toc-text">配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1%E3%80%81Vue2%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE%E8%B7%A8%E5%9F%9F"><span class="toc-number">2.1.1.</span> <span class="toc-text">1-1、Vue2项目配置跨域</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-Vue3-Vite%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE%E8%B7%A8%E5%9F%9F"><span class="toc-number">2.1.2.</span> <span class="toc-text">1-2 Vue3+Vite项目配置跨域</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81Vue%E9%A1%B9%E7%9B%AE%E6%89%93%E5%8C%85%EF%BC%9A"><span class="toc-number">2.2.</span> <span class="toc-text">2、Vue项目打包：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81%E4%B8%8A%E4%BC%A0%E8%87%B3%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%8C%87%E5%AE%9A%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%8B"><span class="toc-number">2.3.</span> <span class="toc-text">3、上传至服务器指定文件夹下</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Step3%EF%BC%9A%E9%85%8D%E7%BD%AE-Nginx"><span class="toc-number">3.</span> <span class="toc-text">Step3：配置 Nginx</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Step4%EF%BC%9A%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%AD%E7%9A%84%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="toc-number">4.</span> <span class="toc-text">Step4：授权访问服务器中的文件夹</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Step5%EF%BC%9A%E8%AE%BF%E9%97%AE%E5%B7%B2%E7%BB%8F%E9%83%A8%E7%BD%B2%E5%A5%BD%E7%9A%84Vue%E9%A1%B9%E7%9B%AE"><span class="toc-number">5.</span> <span class="toc-text">Step5：访问已经部署好的Vue项目</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Step6%EF%BC%9A%E5%9F%9F%E5%90%8D%E9%85%8D%E7%BD%AE"><span class="toc-number">6.</span> <span class="toc-text">Step6：域名配置</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%9C%AC%E5%9C%B0%E5%9C%B0%E5%9D%80%E6%98%A0%E5%B0%84%E5%9F%9F%E5%90%8D%E4%BB%A5%E5%8F%8A%E5%9F%9F%E5%90%8D%E8%BD%AC%E5%8F%91%E6%8C%87%E5%AE%9Aip"><span class="toc-number">7.</span> <span class="toc-text">配置本地地址映射域名以及域名转发指定ip</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#nginx%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-%E9%80%9A%E8%BF%87%E5%9F%9F%E5%90%8D%E8%AE%BF%E9%97%AE"><span class="toc-number">8.</span> <span class="toc-text">nginx配置文件 通过域名访问</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#LINUX%E5%AE%89%E8%A3%85nginx%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%9F%9F%E5%90%8D%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B"><span class="toc-number">9.</span> <span class="toc-text">LINUX安装nginx并绑定域名详细教程</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E9%93%BE%E6%8E%A5"><span class="toc-number">10.</span> <span class="toc-text">相关链接</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/2501102727.html" title="C# 线程停止线程之一Abort过时被CancellationToken取代"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C# 线程停止线程之一Abort过时被CancellationToken取代"/></a><div class="content"><a class="title" href="/posts/2501102727.html" title="C# 线程停止线程之一Abort过时被CancellationToken取代">C# 线程停止线程之一Abort过时被CancellationToken取代</a><time datetime="2024-08-15T07:41:20.000Z" title="发表于 2024-08-15 15:41:20">2024-08-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/1577525161.html" title="C#控件DataGridView之六（常用功能）"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C#控件DataGridView之六（常用功能）"/></a><div class="content"><a class="title" href="/posts/1577525161.html" title="C#控件DataGridView之六（常用功能）">C#控件DataGridView之六（常用功能）</a><time datetime="2024-08-13T09:50:20.000Z" title="发表于 2024-08-13 17:50:20">2024-08-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/887274336.html" title="存储芯片AT24CXX"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="存储芯片AT24CXX"/></a><div class="content"><a class="title" href="/posts/887274336.html" title="存储芯片AT24CXX">存储芯片AT24CXX</a><time datetime="2024-08-13T03:37:20.000Z" title="发表于 2024-08-13 11:37:20">2024-08-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/2102930043.html" title="C#数据结构之二（队列的使用）"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C#数据结构之二（队列的使用）"/></a><div class="content"><a class="title" href="/posts/2102930043.html" title="C#数据结构之二（队列的使用）">C#数据结构之二（队列的使用）</a><time datetime="2024-08-12T08:17:20.000Z" title="发表于 2024-08-12 16:17:20">2024-08-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/2669946936.html" title="C#窗体复制迁移相关"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C#窗体复制迁移相关"/></a><div class="content"><a class="title" href="/posts/2669946936.html" title="C#窗体复制迁移相关">C#窗体复制迁移相关</a><time datetime="2024-08-12T08:11:20.000Z" title="发表于 2024-08-12 16:11:20">2024-08-12</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By ZhaoYichen</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><a href="icp连接"><img class="icp-icon" src="icp图片"><span>备案号：xxxxxx</span></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">本地搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/shizuku.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":false},"log":false});</script></body></html>